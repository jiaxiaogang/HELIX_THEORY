# 回测防撞训练 & 继续觅食训练

***

<!-- TOC -->

- [回测防撞训练 & 继续觅食训练](#回测防撞训练--继续觅食训练)
  - [n29p01 回测迁移性和防撞训练](#n29p01-回测迁移性和防撞训练)

<!-- /TOC -->

***

## n29p01 回测迁移性和防撞训练
`CreateTime 2023.03.20`

在n28末，做了Canset迁移性,本节通过防撞训练来回测;

| 29011 | 回测迁移性挂在所有pFos下: pFos有不全的问题 |
| --- | --- |
| 训练 | 根据防撞前两步训练; |
| 问题 | 发现`canset挂在所有pFos下`,竟然不包含触发者selfPFo本身; |
| 调试 | 经查,构建pFo时,pFo在baseRDemand下,只是后来应该什么时候被删了,需要明天继续查下; |
| 查明 | 在forecast中,pFo先失效,后调用的生成Canset,导致生成时此pFo已经失效未加上Canset; |
| 修复 | 改为先生成Canset,再设pFo为失效后好了 `T`; |

**29012-关于Canset迁移效率太低的问题**
1. 测试: 经29011测试中发现: 其实每条pFo都会生成一次Canset;而它们生成的Canset也大致是相同的,只是触发有先后而已;
2. 回测失败: 那我们上节中,将新Canset挂到所有pFos下,作用其实不大……(改动前的问题会依旧);
3. 分析原因: 现通过pFos传递经验的方案,只能邻近传递;
4. 反证观点: 那么在试错时,如果不邻近呢?肯定传递失败…即:我们假设能成功并且大胆尝试不够;
5. 本质问题: 即迁移效率不够 (总不能等被撞死几十回,才普及这个可能有效的经验到各处);
6. 解决方案: 所以,我们还是需要用特征影响不大,来构建抽象方案… (其实相邻宏微带来的定义不一致问题,大可以通过EFF来辅正);

名词说明: 本文构建抽象的问题,在下面统一命名为:"共同点抽象";

```java
29013-在29012中,第1,2,3,4是猜想,本表先实训`防撞前两步`验证如下:
R新Canset:F562[A559(高100,皮0,向19,距117)] (状态:无反馈 fromPFo:F336 帧:1) 挂pFos下:(F489,F415,F557,F336)
R新Canset:F563[A559(高100,皮0,向19,距117)] (状态:无反馈 fromPFo:F557 帧:1) 挂pFos下:(F489,F415,F557)
R新Canset:F564[A559(高100,皮0,向19,距117)] (状态:无反馈 fromPFo:F489 帧:1) 挂pFos下:(F489,F415)
R新Canset:F565[A559(高100,皮0,向19,距117)] (状态:无反馈 fromPFo:F415 帧:1) 挂pFos下:()
结果: 如上日志,验证猜想成立,执行29012-6的解决方案;
```

本节测得上节做的Canset迁移性没什么用,我们回滚下代码,然后经分析: Canset迁移不足的问题,还是要通过构建"共同点抽象"来解决,转下节继续;

***

## n29p02 共同点抽象
`CreateTime 2023.03.21`

本节针对上节29012-解决方案,本节做"共同点抽象"的方案分析与代码实践;

| 29021 | 执行前的准备工作-反思下做抽象会不会有什么问题 |
| --- | --- |
| 问题1 | **这会不会导致过度抽象问题 (参考28186-方案2-追问);** |
|  | 答: 抽具象多层多样性一直在生效,所以不可能过度抽象; |
|  | 证: 而现在的情况,洽洽是(缺少共同点抽象)抽象的缺失问题; |
| 问题2 | **这会不会太复杂? (参考28186-方案2-追问);** |
|  | 答: 会复杂,但必要性大,需求明确,可做; |
| 结果 | 28186-方案2-追问,提到的问题,在本表都做了解答,下表可以正式放开干了; |

| 29022 | 共同点抽象-方案规划 |
| --- | --- |
| 方案1 | **根据Canset反推抽象概念 `5%`;** |
| 自辩 | 1. 正向(左向右)是很难获取`无距棒`的,因为输入端必定各特征齐全; |
|  | 2. 要想得到`无距棒`除非特征一致,但输入端几乎没有一致的情况; |
|  | 3. 全在决策端,根据`强化统计`的一致性,来反向判断特征有类似功效却是可以的; |
|  | 4. 反推抽象概念方案,以增强Canset迁移性,就是利用这一方式来达成的; |
| 优点 | 更精准; |
| 缺点 | 但也更复杂; |
| 缺陷 | 这里比对Canset的共同点,但并不表示也是场景的共同点 |
|  | 缺陷说明: Canset的共同点,与场景的共同点,二者间的衔接是个未接上的坑; |
| 点评 | 此方案不符合向性原则,且缺陷也难以填上 `5%`; |
| 方案2 | **用以前的外类比来达成 `95%`;** |
| 自辩 | 1. 用原来的外类比: 相近度高的计做sames,然后抽象之; |
|  | 2. 想得到`无距棒`并不必须特征一致,只要码相近也是ok的; |
|  | 3. 共右向性在认知期来实现`共同点抽象`,更符合认知层是右向性的原则; |
|  | 4. 以认知期`共同点抽象`,来带动Canset时的迁移性,此方案看来更好; |
| 优点 | 效果更广而全面，迁移性更强,也符合认知的向性原则。 |
| 缺点 | 带来混乱度也高 (但好在决策期的竞争机制就是专门克服这里的混乱度的); |
| 缺陷 | 场景变抽象,但它下面的Canset却并不抽象,本方案需要连带解决此问题; |
|  | 缺陷说明: 如果Canset不抽象,它的EFF计数就很难累加; |
| 点评 | 本方案符合向性原则,缺点可解,缺陷看起来也更容易解决 `95%`; |
| 结果 | 参考二者的点评,选定方案2,但需要先解决缺陷 `转29023`; |

| 29023 | 共同点抽象-方案2-缺陷解决分析 |
| --- | --- |
| 分析 | 可以将Canset改成由protoFo的抽象来构建? |
|  | a. matchFo下包含的,用matchFo的帧来即可; |
|  | b. matchFo下不包含的,则使用matchAlgs中较为抽象的alg来? |

| 29024 | 共同点抽象-方案2-实践前规划 |
| --- | --- |
| 1. 相近度判断 | 时序识别结果中，如果20%的码承担了80%的差异，就可以尝试排除掉试试。 |
| 2. 恢复外类比 | 现在的外类比是无效状态，可以在这次尝试打开它！ |

<br><br><br><br><br>
